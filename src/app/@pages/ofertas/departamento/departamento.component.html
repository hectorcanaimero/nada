<section id="departamento" class="py-3 py-md-5" *ngIf="(menuDepartamento$ | async) as departamento; else semData">
  <div class="container">
    <mdb-breadcrumb class="mb-5">
      <mdb-breadcrumb-item class="blue-text text-uppercase d-none d-md-block"
        [routerLink]="['/departamento', (slug$ | async)]">{{ departamento.nome }}</mdb-breadcrumb-item>
    </mdb-breadcrumb>
    <h1 class="b-08 border-bottom pb-1 mb-3 title">{{ departamento.nome }}</h1>
    <div class="row ios justify-content-center">
      <div class="col-lg-4 col-xl-3 bg-red">
        <app-select-loja type="alert"></app-select-loja>
        <div class="news my-4">
          <h6 class="b-07 border-bottom pb-1 mb-1" (click)="toogleSector()">
            {{ departamento.nome }}
            <i class="fas float-right" [ngClass]="{'fa-plus': !viewSector, 'fa-minus': viewSector}"></i>
          </h6>
          <ul class="nav flex-column grey lighten-4 py-2 animated fadeIn faster" data-wow-delay=".1" *ngIf="viewSector">
            <li class="nav-item" *ngFor="let s of menuSector$ | async; trackBy: trackById" routerLinkActive="active">
              <a class="nav-link b-07 f-09" [routerLink]="['/departamento', departamento.slug, 'setor', s.slug]">
                {{ s.sector }}
              </a>
            </li>
          </ul>
        </div>
      </div>
      <div class="col-lg-8 col-xl-9">
        <div class="row mt-3">
          <img src="./assets/images/banner_campanha.jpg" onerror="this.style.display='none'" class="img-fluid mb-4"/>
          <div class="col-6 col-xl-4 mb-4" *ngFor="let item of items$ | async | filtro: search:'dsc_produto'  | paginate: { itemsPerPage: 6, currentPage: p }; trackBy: trackById">
            <app-product [code]="item"></app-product>
          </div>
        </div>
        <div class="mt-5">
          <pagination-controls class="animated fade text-center mt-5 border-top pt-1"
            (pageChange)="p = $event" previousLabel="Anterior" nextLabel="PrÃ³ximo" responsive="true">
          </pagination-controls>
        </div>
      </div>
    </div>
  </div>
</section>
<ng-template #semData>
  <app-sem-data></app-sem-data>
</ng-template>
