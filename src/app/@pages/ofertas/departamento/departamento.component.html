<section id="departamento" class="py-3 py-md-5" *ngIf="(menuDepartamento$ | async) as departamento; else semData">
  <div class="container">
    <mdb-breadcrumb class="mb-5">
      <mdb-breadcrumb-item class="blue-text text-uppercase d-none d-md-block"
        [routerLink]="['/departamento', (slug$ | async)]">{{ departamento.nome }}</mdb-breadcrumb-item>
    </mdb-breadcrumb>
    <h1 class="b-08 border-bottom pb-1 mb-3 title">{{ departamento.nome }}</h1>
    <div class="row mobile ios justify-content-center">
      <div class="col-lg-4 col-xl-3 bg-red">
        <app-select-loja type="alert"></app-select-loja>
        <div class="news my-4">
          <h6 class="b-07 border-bottom pb-1 mb-1" (click)="toogleSector()">
            {{ departamento.nome }}
            <i class="fas float-right" [ngClass]="viewSector ? 'fa-plus': 'fa-minus'"></i>
          </h6>
          <div class="sector">
            <div class="row no-gutters" [@slideDownInOut]="viewSector">
              <div class="col-6 col-md-12" *ngFor="let s of menuSector$ | async; trackBy: trackById">
                <p>
                  <a class="text" [routerLink]="['/departamento', departamento.slug, 'setor', s.slug]">
                    {{ s.sector }}
                  </a>
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-8 col-xl-9">
        <div class="mobile">
          <div class="row mt-3">
            <img src="./assets/images/banner_campanha.jpg" onerror="this.style.display='none'" class="img-fluid mb-4"/>
            <div class="col-6 col-md-4 mb-3 mb-xl-4" *ngFor="let item of items$ | async | filtro: search:'dsc_produto'  | paginate: { itemsPerPage: 12, currentPage: p }; trackBy: trackById">
              <app-product [code]="item"></app-product>
            </div>
          </div>
        </div>
        <div class="mt-5">
          <pagination-controls class="animated fade text-center mt-5 border-top pt-1"
            (pageChange)="p = $event" previousLabel="Anterior" nextLabel="PrÃ³ximo" responsive="true">
          </pagination-controls>
        </div>
      </div>
    </div>
  </div>
</section>
<ng-template #semData>
  <app-sem-data></app-sem-data>
</ng-template>
