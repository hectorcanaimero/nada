{"version":3,"sources":["webpack:///src/app/@pages/lojas/lojas.component.html","webpack:///src/app/@pages/lojas/lojas.component.ts","webpack:///src/app/@pages/lojas/detail/loja-id.component.html","webpack:///src/app/@pages/lojas/detail/loja-id.component.ts","webpack:///src/app/@pages/lojas/lojas.module.ts"],"names":["LojasComponent","router","seo","news","p","isLoading","setSeo","this","updateTags","title","description","image","dataLayerPage","addCanonical","onLoja","ev","value","target","items$","Lojas","pipe","debounceTime","LojaPorRegion","goToLoja","navigate","trackBy","index","item","finalize","region$","LojaRegion","LojaIdComponent","LojasModule","activate","servicos","getItems","slug","LojaSlug","tap","res","splitTypes","map","lojas$","dataLayerTracking","event","storeAction","storeName","onTracking","loja","type","buttonAction","setores","split","items","title1","rendered","content","medium","slug$","paramMap","paramsMap","get","subscribe","app","path","component","forChild"],"mappings":"ynBAOU,oBAA2E,QAAY,Q,uBAA/E,mBAAmE,sB,yBAM3E,oBAA4E,QAAc,Q,uBAAlF,qBAAoE,wB,0FAKhF,iBACE,iBACE,gBAAmB,QAAiB,OACpC,iBACJ,OACA,Q,uBAJ8B,4CACP,uBACC,+E,iFAJ1B,iBACE,uB,mCAMF,Q,kBAN+C,mEAAqG,2B,qBAYxJ,0BChBO,IAAMA,EAAN,IAAMA,EAAN,WAOL,WACUC,EACAC,EACAC,wBAFA,KAAAF,SACA,KAAAC,MACA,KAAAC,OARV,KAAAC,EAAI,EACJ,KAAAC,aAiBA,KAAAC,OAAS,WACPC,EAAKL,IAAIM,WAAW,CAClBC,MAAO,iFACPC,YAAa,6IACbC,MAAO,2DAETJ,EAAKL,IAAIU,cAAc,SACvBL,EAAKL,IAAIW,gBAGX,KAAAC,OAAUC,YACR,IAAMC,EAAQD,EAAGE,OAAOD,MACHT,EAAKW,OAAZ,QAAVF,EAA+BT,EAAKJ,KAAKgB,MAAM,KAAKC,KAAK,OAAAC,EAAA,GAAa,MACvDd,EAAKJ,KAAKmB,cAAcN,IAG7C,KAAAO,SAAYR,YACV,IAAMC,EAAQD,EAAGE,OAAOD,MACV,QAAVA,GAAiBT,EAAKN,OAAOuB,SAAS,CAAC,QAASR,KAGtD,KAAAS,QAAU,SAACC,EAAeC,GAAhB,OAA8BA,EAAKD,IAzCxC,kCAaL,WAAU,WACRnB,KAAKD,SACLC,KAAKF,aACLE,KAAKW,OAASX,KAAKJ,KAAKgB,MAAM,KAAKC,KAAK,OAAAQ,EAAA,IAAS,kBAAMrB,EAAKF,iBAC5DE,KAAKsB,QAAUtB,KAAKJ,KAAK2B,iBAjBtB,M,oCAAM9B,GAAc,gC,uBAAdA,EAAc,kyBDd3B,oBACE,gBACE,eAAyC,mCAAqB,OAC9D,gBACE,gBACE,mBAA8C,kCAAU,EAAAc,OAAA,MACtD,mBAA6B,8BAAgB,OAC7C,yB,iBACF,OACF,OACA,iBACE,oBAA8C,kCAAU,EAAAS,SAAA,MACtD,oBAA6B,0BAAc,OAC3C,0B,iBACF,OACF,OACF,OACA,uB,iBAQA,kCAAuD,+CAEvD,OACF,OACF,OACA,kC,MAvBiC,6CAAmD,0BAMjD,4CAAkD,0BAIvD,0CAaF,mC,kiBEvBlB,oBAA2E,QAAY,Q,uBAA/E,mBAAmE,sB,yBAM3E,oBAA4E,QAAc,Q,uBAAlF,qBAAoE,wB,yBA8B5E,uBAAyE,QAAU,Q,uBAAV,yB,yBAH7E,iBACE,iBACE,gBAAyC,kBAAO,OAChD,6BACF,OACF,Q,mBAF8B,mC,yBAM1B,uBAAyE,QAAU,Q,uBAAV,yB,yBAH7E,iBACE,iBACE,gBAAyC,sBAAQ,OACjD,6BACF,OACF,Q,mBAF6B,oC,qCAjDnC,oBACE,gBACE,eAAyC,QAAiB,OAC1D,gBACE,gBACE,mBAAmD,8DACjD,mBAA6B,8BAAgB,OAC7C,yB,iBACF,OACF,OACA,kBACE,qBAA8C,gEAC5C,oBAA6B,0BAAc,OAC3C,0B,iBACF,OACF,OACF,OACA,kBACE,kBACE,kBACF,OACA,kBACE,kBACA,kBACE,gBAAsE,gFAAiC,WACrG,gBACA,yBACF,OACA,gBAA4F,gFAAiC,YAC3H,gBACA,yBACF,OACA,gBAAyE,gFAAiC,cACxG,gBACA,8BACF,OACF,OACF,OACF,OACA,kBACE,wBAMA,wBAMF,OACF,OACF,O,8BApD6C,uBAKZ,8CAAmD,0BAMjD,6CAAkD,0BAMpD,6BAApB,0BAGA,0CAEA,iCAIA,+CAIA,sCAQ4B,+DAMb,kE,qBAS5B,uBCxCO,IAAMQ,ECcAC,EDdN,IAAMD,EAAN,WAWL,WACU9B,EACAC,EACAC,EACA8B,wBAHA,KAAAhC,SACA,KAAAC,MACA,KAAAC,OACA,KAAA8B,WATV,KAAA5B,aAGA,KAAA6B,SAAgB,GAehB,KAAAC,SAAYC,YACV7B,EAAKF,aACLE,EAAKW,OAASX,EAAKJ,KAAKkC,SAASD,GAAMhB,KACrC,OAAAkB,EAAA,IAAKC,YAAUhC,EAAKD,OAAOiC,GAAMhC,EAAKiC,WAAWD,MACjD,OAAAE,EAAA,IAAKF,YAAGA,OAAKA,KAAM,OAAAX,EAAA,IAAS,kBAAMrB,EAAKF,kBAK3C,KAAAS,OAAUC,YACR,IAAMC,EAAQD,EAAGE,OAAOD,MACHT,EAAKmC,OAAZ,QAAV1B,EAA+BT,EAAKJ,KAAKgB,MAAM,KAChCZ,EAAKJ,KAAKmB,cAAcN,IAG7C,KAAAO,SAAYR,YACV,IAAMC,EAAQD,EAAGE,OAAOD,MACV,QAAVA,IACFT,EAAKL,IAAIyC,kBAAmB,CAACC,MAAO,YAAaC,YAAa,WAAYC,UAAW9B,IACrFT,EAAKN,OAAOuB,SAAS,CAAC,QAASR,MAInC,KAAA+B,WAAa,SAACC,EAAcC,GAC1B1C,EAAKL,IAAIyC,kBAAmB,CAACC,MAAO,kBAAmBE,UAAWE,EAAME,aAAcD,KAGhF,KAAAT,WAAcD,YACpBhC,EAAK4C,QAAUZ,EAAIY,QAAQC,MAAM,KACjC7C,EAAK2B,SAAWK,EAAIL,SAASkB,MAAM,MAG7B,KAAA9C,OAAU+C,YAChB9C,EAAKL,IAAIW,eACTN,EAAKL,IAAIU,cAAcyC,EAAMC,QAC7B/C,EAAKL,IAAIM,WAAY,CACnBC,MAAU4C,EAAM5C,MAAM8C,SAAf,6BACP7C,YAAa2C,EAAMG,QAAQD,SAC3B5C,MAAO0C,EAAMI,UAIjB,KAAAhC,QAAU,SAACC,EAAeC,GAAhB,OAA8BA,EAAKD,IAlExC,kCAkBL,WAAU,WACRnB,KAAKmD,MAAQnD,KAAK0B,SAAS0B,SAASvC,KAAK,OAAAqB,EAAA,IAAImB,YAASA,OAAIA,EAAUC,IAAI,YACxEtD,KAAKmD,MAAMI,WAAWvB,YAAGA,OAAKhC,EAAK4B,SAASI,MAC5ChC,KAAKsB,QAAUtB,KAAKJ,KAAK2B,iBArBtB,M,oCAAMC,GAAe,0C,uBAAfA,EAAe,4wCDf5B,4B,gBAuDA,gC,MAvD6C,gCAuD/B,mC,8EE3CRgC,EAAc,CAClB,CAAEC,KAAM,GAAIC,UAAW,GACvB,CAAED,KAAM,QAASC,UAAW,IAevB,IAAMjC,EAAN,yB,qBAAMA,I,oDAAAA,IAAW,SATb,CACP,IACA,IACA,IACA,IACA,IACA,IAAakC,SAASH,O","file":"x","sourcesContent":["<section id=\"loja\" class=\"py-5\">\n  <div class=\"container\">\n    <h2 class=\"b-08 border-bottom pb-1 mb-3\">O Condor mais Próximo</h2>\n    <div class=\"row justify-content-center my-4\">\n      <div class=\"col-md-4 mb-2\">\n        <select class=\"browser-default custom-select\" (change)=\"onLoja($event)\">\n          <option selected value=\"All\">Todas as regiões</option>\n          <option [value]=\"r.id\" *ngFor=\"let r of region$ | async; trackBy: trackBy\">{{ r.name }}</option>\n        </select>\n      </div>\n      <div class=\"col-md-6\">\n        <select class=\"browser-default custom-select\" (change)=\"goToLoja($event)\">\n          <option selected value=\"All\">Todas as lojas</option>\n          <option [value]=\"i.slug\" *ngFor=\"let i of items$ | async; trackBy: trackBy\">{{ i.title1 }}</option>\n        </select>\n      </div>\n    </div>\n    <div class=\"row ios mb-5\" *ngIf=\"items$ | async\">\n      <div class=\"col-md-6 col-lg-4 col-xl-4 mb-5\" *ngFor=\"let loja of items$ | async | paginate: { itemsPerPage: 9, currentPage: p }; trackBy: trackBy\">\n        <div class=\"boxs z-depth-3\" [routerLink]=\"[loja.slug]\">\n          <h4 class=\"titulo\">{{ loja.title1 }}</h4>\n          <div class=\"images\" [ngStyle]=\"{'background': 'url('+ loja.medium +') no-repeat center center'}\"></div>\n      </div>\n      </div>\n    </div>\n    <pagination-controls class=\"animated fade text-center\" (pageChange)=\"p = $event\"\n      previousLabel=\"Anterior\" nextLabel=\"Próximo\" responsive=\"true\">\n    </pagination-controls>\n  </div>\n</section>\n<app-sem-data height=\"50vh\" *ngIf=\"isLoading\"></app-sem-data>\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { Observable } from 'rxjs';\n\nimport { SeoService } from '@core/services/seo.service';\nimport { NewsService } from '@core/services/news.service';\nimport { delay, debounceTime, finalize } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-lojas',\n  templateUrl: './lojas.component.html',\n  styleUrls: ['./lojas.component.scss']\n})\nexport class LojasComponent implements OnInit {\n\n  p = 1;\n  isLoading: boolean = false;\n  items$: Observable<any>;\n  region$: Observable<any[]>;\n\n  constructor(\n    private router: Router,\n    private seo: SeoService,\n    private news: NewsService,\n    ) { }\n\n  ngOnInit() {\n    this.setSeo();\n    this.isLoading = true;\n    this.items$ = this.news.Lojas(100).pipe(finalize(() => this.isLoading = false));\n    this.region$ = this.news.LojaRegion();\n  }\n\n  setSeo = () => {\n    this.seo.updateTags({\n      title: `Supermercado Condor mais Próximo | Telefones e Endereços | Condor.com.br`,\n      description: 'Encontre o Supermercado Condor Mais Próximo de Você! Confira Endereços, Telefones e Rotas de todas as Lojas Condor da sua Cidade.',\n      image: 'https://www.condor.com.br/assets/images/sem-imagem.jpg'\n    });\n    this.seo.dataLayerPage('Lojas');\n    this.seo.addCanonical();\n  }\n\n  onLoja = (ev: any) => {\n    const value = ev.target.value;\n    if (value === 'All') this.items$ = this.news.Lojas(100).pipe(debounceTime(1000));\n    else this.items$ = this.news.LojaPorRegion(value);\n  }\n\n  goToLoja = (ev: any) => {\n    const value = ev.target.value;\n    if (value !== 'All') this.router.navigate(['lojas', value])\n  }\n\n  trackBy = (index: number, item: any) => item[index];\n}\n","<section id=\"single-loja\" class=\"py-5 h-100\" *ngIf=\"(items$ | async) as item;\">\n  <div class=\"container\">\n    <h2 class=\"b-07 border-bottom pb-1 mb-4\">{{ item.title1 }}</h2>\n    <div class=\"row justify-content-center my-4\">\n      <div class=\"col-md-4\">\n        <select class=\"browser-default custom-select mb-2\" (change)=\"onLoja($event)\">\n          <option selected value=\"All\">Todas as regiões</option>\n          <option [value]=\"r.id\" *ngFor=\"let r of region$ | async; trackBy: trackBy\">{{ r.name }}</option>\n        </select>\n      </div>\n      <div class=\"col-md-6\">\n        <select class=\"browser-default custom-select\" (change)=\"goToLoja($event)\">\n          <option selected value=\"All\">Todas as lojas</option>\n          <option [value]=\"i.slug\" *ngFor=\"let i of lojas$ | async; trackBy: trackBy\">{{ i.title1 }}</option>\n        </select>\n      </div>\n    </div>\n    <div class=\"row ios mb-5\">\n      <div class=\"col-md-5\">\n        <img [src]=\"item.medium\" alt=\"{{ item.title1 }}\" class=\"w-100 mb-4\" />\n      </div>\n      <div class=\"col-md-7\">\n        <div [innerHTML]=\"item.content1\"></div>\n        <div class=\"buttom\">\n          <a [href]=\"item.maps\" target=\"_blank\" class=\"btn btn-primary rounded\" (click)=\"onTracking(item.title1, 'Rota')\">\n            <i class=\"fas fa-map-marker mr-2\"></i>\n            Como chegar\n          </a>\n          <a href=\"tel:{{ item.telefone }}\" target=\"_blank\" class=\"btn btn-success rounded d-xl-none\" (click)=\"onTracking(item.title1, 'Ligar')\">\n            <i class=\"fas fa-phone mr-2\"></i>\n            Ligue Agora\n          </a>\n          <a [href]=\"item.avaliacao\" target=\"_blank\" class=\"btn btn-light rounded\" (click)=\"onTracking(item.title1, 'Avaliar')\">\n            <i class=\"fab fa-google mr-2\"></i>\n            Avalie no google\n          </a>\n        </div>\n      </div>\n    </div>\n    <div class=\"row ios mb-3\">\n      <div class=\"col-md-6 mb-4 mb-md-0\" *ngIf=\"setores?.length > 1\">\n        <div class=\"px-3\">\n          <h3 class=\"b-07 pb-1 mb-4 border-bottom\">Setores</h3>\n          <mdb-badge primary=\"true\" *ngFor=\"let sec of setores\" class=\"mr-2 mb-1\"> {{ sec }} </mdb-badge>\n        </div>\n      </div>\n      <div class=\"col-md-6\" *ngIf=\"servicos?.length > 1\">\n        <div class=\"px-3\">\n          <h3 class=\"b-07 pb-1 mb-4 border-bottom\">Serviços</h3>\n          <mdb-badge danger=\"true\" *ngFor=\"let ser of servicos\" class=\"mr-2 mb-1\"> {{ ser }} </mdb-badge>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n<app-sem-data *ngIf=\"isLoading\"></app-sem-data>\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\n\nimport { Observable } from 'rxjs';\nimport { map, tap, delay, finalize } from 'rxjs/operators';\n\nimport { Lojas } from '@core/interfaces/news';\nimport { SeoService } from '@core/services/seo.service';\nimport { NewsService } from '@core/services/news.service';\n\n@Component({\n  selector: 'app-loja-id',\n  templateUrl: './loja-id.component.html',\n  styleUrls: ['./loja-id.component.scss']\n})\nexport class LojaIdComponent implements OnInit {\n\n  slug$: Observable<String>;\n  items$: Observable<Lojas>;\n  region$: Observable<any[]>;\n  lojas$: Observable<any>;\n  isLoading: boolean = false;\n\n  setores: any [];\n  servicos: any = [];\n\n  constructor(\n    private router: Router,\n    private seo: SeoService,\n    private news: NewsService,\n    private activate: ActivatedRoute,\n  ) { }\n\n  ngOnInit() {\n    this.slug$ = this.activate.paramMap.pipe(map(paramsMap => paramsMap.get('slug')));\n    this.slug$.subscribe((res) => this.getItems(res));\n    this.region$ = this.news.LojaRegion();\n  }\n\n  getItems = (slug: any) => {\n    this.isLoading = true;\n    this.items$ = this.news.LojaSlug(slug).pipe(\n      tap((res) => { this.setSeo(res); this.splitTypes(res) }),\n      map((res) => res), finalize(() => this.isLoading = false)\n    );\n  }\n\n\n  onLoja = (ev: any) => {\n    const value = ev.target.value\n    if (value === 'All') this.lojas$ = this.news.Lojas(100);\n    else this.lojas$ = this.news.LojaPorRegion(value);\n  }\n\n  goToLoja = (ev: any) => {\n    const value = ev.target.value\n    if (value !== 'All') {\n      this.seo.dataLayerTracking( {event: 'findStore', storeAction: 'Ver Loja', storeName: value } );\n      this.router.navigate(['lojas', value]);\n    }\n  }\n\n  onTracking = (loja: string, type: string) => {\n    this.seo.dataLayerTracking( {event: 'storepageAction', storeName: loja, buttonAction: type });\n  }\n\n  private splitTypes = (res: any) => {\n    this.setores = res.setores.split(',');\n    this.servicos = res.servicos.split(',');\n  }\n\n  private setSeo = (items: any) => {\n    this.seo.addCanonical();\n    this.seo.dataLayerPage(items.title1);\n    this.seo.updateTags( {\n      title: `${items.title.rendered} - Telefones e Endereço`,\n      description: items.content.rendered,\n      image: items.medium\n    } );\n  }\n\n  trackBy = (index: number, item: any) => item[index];\n}\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MDBBootstrapModule } from 'angular-bootstrap-md';\nimport { NgxPaginationModule } from 'ngx-pagination';\n\nimport { LojasComponent } from './lojas.component';\nimport { LojaIdComponent } from './detail/loja-id.component';\nimport { SemDataModule } from '@sharing/sem-data/sem-data.module';\n\nconst app: Routes = [\n  { path: '', component: LojasComponent },\n  { path: ':slug', component: LojaIdComponent }\n];\n\n\n@NgModule({\n  declarations: [LojasComponent, LojaIdComponent],\n  imports: [\n    FormsModule,\n    CommonModule,\n    SemDataModule,\n    MDBBootstrapModule,\n    NgxPaginationModule,\n    RouterModule.forChild(app)\n  ]\n})\nexport class LojasModule { }\n"]}