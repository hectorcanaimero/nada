{"version":3,"sources":["./src/app/@pages/ofertas/departamento/departamento.module.ts","./src/app/@pages/ofertas/departamento/departamento.component.ts","./src/app/@pages/ofertas/departamento/departamento.component.html"],"names":[],"mappings":"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","file":"pages-ofertas-departamento-departamento-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport {NgxPaginationModule} from 'ngx-pagination';\nimport { MDBBootstrapModule } from 'angular-bootstrap-md';\n\nimport { PipesModule } from '@core/pipes/pipes.module';\nimport { ProductModule } from '@sharing/product/product.module';\nimport { SemDataModule } from '@sharing/sem-data/sem-data.module';\nimport { SelectLojaModule } from '@sharing/select-loja/select-loja.module';\n\nimport { DepartamentoComponent } from './departamento.component';\n\nconst app: Routes = [\n  { path: ':slug', component: DepartamentoComponent },\n  { path: ':slug/setor', loadChildren: () => import('../sector/sector.module').then( mod => mod.SectorModule )}\n];\n\n@NgModule({\n  declarations: [DepartamentoComponent],\n  imports: [\n    PipesModule,\n    CommonModule,\n    ProductModule,\n    SemDataModule,\n    SelectLojaModule,\n    MDBBootstrapModule,\n    NgxPaginationModule,\n    RouterModule.forChild(app),\n  ]\n})\nexport class DepartamentoModule { }\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\n\nimport { StorageMap } from '@ngx-pwa/local-storage';\n\nimport { map, tap, delay } from 'rxjs/operators';\nimport { Subscription, Observable } from 'rxjs';\n\nimport { DataService } from '@core/services/data.service';\nimport { SeoService } from '@core/services/seo.service';\nimport { UtilService } from '@core/services/util.service';\nimport { MenuDepartamento, MenuSetor } from '@core/interfaces/menu';\nimport { Ofertas } from '@core/interfaces/ofertas';\nimport { slideDownInOut } from '@core/animations/slide';\n\n@Component({\n  selector: 'app-departamento',\n  templateUrl: './departamento.component.html',\n  styleUrls: ['./departamento.component.scss'],\n  animations: [ slideDownInOut ]\n})\nexport class DepartamentoComponent implements OnInit, OnDestroy {\n\n  subscription: Subscription;\n\n  p: number = 1;\n  search: string = '';\n\n  viewDepart: boolean = true;\n  viewSector: string = 'out';\n  init: boolean = false;\n\n  loja: any = [];\n  menu: any = [];\n  items$: Observable<Ofertas[]>;\n  menuSector$: Observable<MenuSetor[]>;\n  menuDepartamento$: Observable<MenuDepartamento[]>;\n\n  slug$: Observable<string>;\n\n  constructor(\n    private router: Router,\n    private db: DataService,\n    private seo: SeoService,\n    private util: UtilService,\n    private act: ActivatedRoute,\n    private storageMap: StorageMap\n  ) { }\n\n  ngOnInit(): void {\n    this.seo.addCanonical();\n    this.loja = this.util.StorageParse('Loja');\n    this.slug$ = this.act.paramMap.pipe(map(paramsMap => paramsMap.get('slug')));\n    this.slug$.subscribe(data => this.getDepartamento(data));\n  }\n\n  ngOnDestroy(): void {\n    if (this.subscription) { this.subscription.unsubscribe(); }\n  }\n\n  getDepartamento = (slug: any) => {\n    console.log(slug);\n    this.menuDepartamento$ = this.db.getMenuOfertas(`menuDepartamentoSlug?slug=${slug}`).pipe(\n      map((res) => res[0]),\n      tap(({ nome, codigo }) => this.proccess(nome, codigo)),\n      delay(1000)\n    )\n  }\n\n  private proccess = (nome: string, codigo: number) => {\n    this.getSeo(nome);\n    this.getData(codigo)\n  }\n\n  getData = (codigo: number) => {\n    this.storageMap.watch('Loja').subscribe(({ loja }) => {\n      this.menuSector$ = this.db.getCollection(`/Menus/MenuSectorOfertasLojaDepartamento?loja=${loja}&departamento=${codigo}`);\n      this.items$ = this.db.OfertasLojaDepartamento(loja, codigo);\n    })\n  }\n\n  getMenuDepartamento = (loja: number) => this.menu = this.db.getCollection(`/Menus/MenuDepartamentoOfertasLojaDepartamento?loja=${loja}`);\n\n  onSearch = (e: any) => console.log(e.target.value);\n  toogleSector = () =>  this.viewSector = this.viewSector === 'out' ? 'in' : 'out';;\n  toogleDepart = () =>  this.viewDepart = !this.viewDepart;\n\n  getSeo = (departamento: string) => {\n    this.seo.updateTags({\n      title: `Confira as Ofertas de ${departamento} | Condor.com.br`,\n      description: 'Compre Online, Confira os Tabloides ou encontre o Supermercado Condor mais próximo! Toda loja em até 6x, Bazar em até 10x e Eletro em até 20x Sem Juros*',\n      image: 'https://www.condor.com.br/assets/images/sem-imagem.jpg'\n    });\n    this.seo.addCanonical();\n    this.seo.dataLayerPage(departamento);\n  }\n\n  trackById = (index: number, items: any) => items[index];\n}\n","<section id=\"departamento\" class=\"py-3 py-md-5\" *ngIf=\"(menuDepartamento$ | async) as departamento; else semData\">\n  <div class=\"container\">\n    <mdb-breadcrumb class=\"mb-5\">\n      <mdb-breadcrumb-item class=\"blue-text text-uppercase d-none d-md-block\"\n        [routerLink]=\"['/departamento', (slug$ | async)]\">{{ departamento.nome }}</mdb-breadcrumb-item>\n    </mdb-breadcrumb>\n    <h1 class=\"b-08 border-bottom pb-1 mb-3 title\">{{ departamento.nome }}</h1>\n    <div class=\"row mobile ios justify-content-center\">\n      <div class=\"col-lg-4 col-xl-3 bg-red\">\n        <app-select-loja type=\"alert\"></app-select-loja>\n        <div class=\"news my-4\">\n          <h6 class=\"b-07 border-bottom pb-1 mb-1\" (click)=\"toogleSector()\">\n            {{ departamento.nome }}\n            <i class=\"fas float-right\" [ngClass]=\"viewSector ? 'fa-plus': 'fa-minus'\"></i>\n          </h6>\n          <div class=\"sector\">\n            <div class=\"row no-gutters\" [@slideDownInOut]=\"viewSector\">\n              <div class=\"col-6 col-md-12\" *ngFor=\"let s of menuSector$ | async; trackBy: trackById\">\n                <p>\n                  <a class=\"text\" [routerLink]=\"['/departamento', departamento.slug, 'setor', s.slug]\">\n                    {{ s.sector }}\n                  </a>\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-lg-8 col-xl-9\">\n        <div class=\"mobile\">\n          <div class=\"row mt-3\">\n            <img src=\"./assets/images/banner_campanha.jpg\" onerror=\"this.style.display='none'\" class=\"img-fluid mb-4\"/>\n            <div class=\"col-6 col-md-4 mb-3 mb-xl-4\" *ngFor=\"let item of items$ | async | filtro: search:'dsc_produto'  | paginate: { itemsPerPage: 12, currentPage: p }; trackBy: trackById\">\n              <app-product [code]=\"item\"></app-product>\n            </div>\n          </div>\n        </div>\n        <div class=\"mt-5\">\n          <pagination-controls class=\"animated fade text-center mt-5 border-top pt-1\"\n            (pageChange)=\"p = $event\" previousLabel=\"Anterior\" nextLabel=\"Próximo\" responsive=\"true\">\n          </pagination-controls>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n<ng-template #semData>\n  <app-sem-data></app-sem-data>\n</ng-template>\n"],"sourceRoot":"webpack:///"}